const hre = require("hardhat");

/** Collect an airdrop by proving a proof that user is over 18 yo */
async function main() {

    let singers = await hre.ethers.getSigners();
    let collector = singers[1];
    
    let PRIVATAIDROP_ADDR = "0x19afEBDABae97af670652F3ed80908EA262D5AD8"; // TO MODIFTY

    // A[2] B[[2][2]] C[2] represent the proof
    let a = ["0x244e12fcbb86377e5b2c367098965f8b649fa83e3a8ce5b3f617393407a9cee5", "0x265d390bfdfa00c029d044e3da586ee96ba1c33d6f7d3d058ed270de6142d0f0"]
    let b = [["0x2d72e602757d015d76d120d52f0db2d4d0865b371467a357195b02708f80dde1","0x231d567fb50e78c98e6997719f396efe6f0e7ca300d248989e24612b5e3f2dde"],["0x1b6dd5ed0b787e36602c6a1402709cd0b68034d29d0e9c5a496b99a75244801d","0x2b4ac2454ad5fbb5e10cc4e2aec0a37fc47aeb3e0648a279f4731aefb2bf5b5c"]]
    let c = ["0x28d4e07bd9318198e93647c31c9af18249b5978b86acedc65b196fe0bed7a9dd", "0x2b0596612ade13d77fac903ef1a7fb10e8cfc3e5b18ec2605f927786b635986c"]
    // input[72] represents the public input of the circuit
    let input = ["0x2c17bb3e310bd4155d47c54fde704cb6a68a8db652605b01e4e94ee80ca17c07","0x07ec6b26379e3f9226cb0eda03e59d923639ffe7ec84e6dd421652325f25b8b0","0x05d2e16676f9af03f27214e12e604310890a1a78a9815bd58887659770e0fbf2","0x0ed6ef161e0d95bd87332a72b04a3f7b214daca4b7264523a61e26099f71b4d1","0x02b2c0abed208352f2c9353c428505fb13b9191cf32e2f1ecac4fa3a3e39c466","0x0000000000000000000000000000000087b9b4c689c2024c54d1bf962cb16bce","0x0000000000000000000000000000000000000000000000000000000000000002","0x0000000000000000000000000000000000000000000000000000000000000003","0x0000000000000000000000000000000000000000000000000000000000000012","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000"]
    console.log(input.length)
    let tokenID = "1";

    let privateOver18Aidrop = await hre.ethers.getContractAt("PrivateOver18Airdrop", PRIVATAIDROP_ADDR)
    await privateOver18Aidrop.connect(collector).collectAirdrop(a, b, c, input, tokenID);
    console.log(`Proof verified`)

}

main().then(() => process.exit(0))
    .catch(e => {
        console.error(e);
        process.exit(-1);
    })



    
    

