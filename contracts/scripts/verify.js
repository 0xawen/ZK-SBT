const hre = require("hardhat");

/** Collect an airdrop by proving a proof that user is over 18 yo */
async function main() {

    let singers = await hre.ethers.getSigners();
    let collector = singers[1];
    
    let PRIVATAIDROP_ADDR = "0x94B03Cc759e2b82d3c12277B019C05789FE0A5fB"; // to add

    // A[2] B[[2][2]] C[2] represent the proof
    let a =["0x2f663616e413bb4bbd6ed9afa70ae0e1be2190fd35fba3af817bbebad369970d", "0x01a4dec38ad9eb49079869307617eac43e53e5ae95f93b1458e643dd9bb9880e"]
    let b = [["0x1d2550b15f677bb772d6c429299203605743a218c3ab049193590cd91bde56d5", "0x00881a4642d293ea4182663fb09c3a6740d0ad6bd2c7771f3ec31e4268feba43"],["0x04797faab467c316f9ec68dc211e656fd93cf12a166c7d9926f02bc1cca8e2b4", "0x2889ec21be9054f27a9d4accb2aa0ae33e779a0ddfc412d42089392848e290dc"]]
    let c = ["0x1767a9b8ac2b06b65cb622c79f7f328e80b98a1542af10947d4a423b1686c305", "0x1d06cf83861b050de634e6f90b1d71bea501c81fc2eeea733247f396fabf01b7"]
    // input[72] represents the public input of the circuit
    let input = ["0x0bb16e59a25fb48b6b644fd1f98e022ab0938a33c9fffd8d11792e1bd7ff4643","0x0a49b981a887e4a7f69268120a574137424a46a5f3d40a1a3069a3d7936c847f","0x00c005afcdc4fe33f89f6d822a96f53151a630373803cdcb2ec0c15734ab04cf","0x152f5044240ef872cf7e6742fe202b9e07ed6188e9e734c09b06939704852358","0x2865441cd3e276643c84e55004ad259dff282c8c47c6e8c151afacdadf6f6db3","0x0000000000000000000000000000000087b9b4c689c2024c54d1bf962cb16bce","0x0000000000000000000000000000000000000000000000000000000000000002","0x0000000000000000000000000000000000000000000000000000000000000003","0x0000000000000000000000000000000000000000000000000000000000000012","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000000000000000000000000000000000000000000000"]
    let tokenID = "1"; // to add

    let privateOver18Aidrop = await hre.ethers.getContractAt("PrivateOver18Airdrop", PRIVATAIDROP_ADDR)
    await privateOver18Aidrop.connect(collector).collectAirdrop(a, b, c, input, tokenID);
    console.log(`Proof verified`)

}

main().then(() => process.exit(0))
    .catch(e => {
        console.error(e);
        process.exit(-1);
    })




    
    

